Index: app/src/main/java/com/apps/akkaber/uis/activity_favourite/FavouriteActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.apps.akkaber.uis.activity_favourite;\r\n\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.lifecycle.ViewModelProviders;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\nimport com.apps.akkaber.R;\r\nimport com.apps.akkaber.adapter.FavouriteAdapter;\r\nimport com.apps.akkaber.databinding.ActivityFavouriteBinding;\r\nimport com.apps.akkaber.model.FavouriteModel;\r\nimport com.apps.akkaber.mvvm.ActivityFavouriteMvvm;\r\nimport com.apps.akkaber.uis.activity_base.BaseActivity;\r\n\r\nimport java.util.List;\r\n\r\npublic class FavouriteActivity extends BaseActivity {\r\n    ActivityFavouriteBinding binding;\r\n    ActivityFavouriteMvvm activityFavouriteMvvm;\r\n    FavouriteAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_favourite);\r\n        initView();\r\n    }\r\n\r\n    private void initView() {\r\n        activityFavouriteMvvm = ViewModelProviders.of(this).get(ActivityFavouriteMvvm.class);\r\n        activityFavouriteMvvm.getIsLoading().observe(this, loading -> {\r\n            binding.swipeRefresh.setRefreshing(loading);\r\n        });\r\n\r\n        activityFavouriteMvvm.getFavouriteList().observe(this, list -> {\r\n            if (list.size() > 0) {\r\n                adapter.updateList(list);\r\n                binding.cardNoData.setVisibility(View.GONE);\r\n            } else {\r\n                binding.cardNoData.setVisibility(View.VISIBLE);\r\n\r\n            }\r\n\r\n        });\r\n\r\n        binding.swipeRefresh.setOnRefreshListener(() -> {\r\n            activityFavouriteMvvm.getFavourites(getUserModel(),getLang());\r\n        });\r\n\r\n        adapter = new FavouriteAdapter(this);\r\n        LinearLayoutManager layoutManager = new GridLayoutManager(getBaseContext(), 2);\r\n        binding.recyclerFavourite.setLayoutManager(layoutManager);\r\n        binding.recyclerFavourite.setAdapter(adapter);\r\n        activityFavouriteMvvm.getFavourites(getUserModel(),getLang());\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/apps/akkaber/uis/activity_favourite/FavouriteActivity.java b/app/src/main/java/com/apps/akkaber/uis/activity_favourite/FavouriteActivity.java
--- a/app/src/main/java/com/apps/akkaber/uis/activity_favourite/FavouriteActivity.java	(revision 11e3c810495b5ab9bb743f328e9ccdc86ba0c60e)
+++ b/app/src/main/java/com/apps/akkaber/uis/activity_favourite/FavouriteActivity.java	(date 1640605711955)
@@ -34,9 +34,10 @@
 
     private void initView() {
         activityFavouriteMvvm = ViewModelProviders.of(this).get(ActivityFavouriteMvvm.class);
-        activityFavouriteMvvm.getIsLoading().observe(this, loading -> {
-            binding.swipeRefresh.setRefreshing(loading);
-        });
+
+        activityFavouriteMvvm.getIsLoading().observe(this, isLoading ->
+                binding.swipeRefresh.setRefreshing(isLoading));
+
 
         activityFavouriteMvvm.getFavouriteList().observe(this, list -> {
             if (list.size() > 0) {
@@ -46,13 +47,15 @@
                 binding.cardNoData.setVisibility(View.VISIBLE);
 
             }
-
         });
+
 
         binding.swipeRefresh.setOnRefreshListener(() -> {
             activityFavouriteMvvm.getFavourites(getUserModel(),getLang());
         });
 
+        binding.llBack.setOnClickListener(view -> finish());
+
         adapter = new FavouriteAdapter(this);
         LinearLayoutManager layoutManager = new GridLayoutManager(getBaseContext(), 2);
         binding.recyclerFavourite.setLayoutManager(layoutManager);
Index: app/src/main/java/com/apps/akkaber/uis/activity_home/HomeActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.apps.akkaber.uis.activity_home;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.graphics.PorterDuff;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.View;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.lifecycle.ViewModelProviders;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\n\r\nimport com.apps.akkaber.interfaces.Listeners;\r\nimport com.apps.akkaber.model.UserModel;\r\nimport com.apps.akkaber.mvvm.HomeActivityMvvm;\r\nimport com.apps.akkaber.preferences.Preferences;\r\nimport com.apps.akkaber.uis.activity_base.BaseActivity;\r\n\r\nimport com.apps.akkaber.R;\r\n\r\nimport com.apps.akkaber.databinding.ActivityHomeBinding;\r\nimport com.apps.akkaber.language.Language;\r\nimport com.apps.akkaber.uis.activity_contact_us.ContactUsActivity;\r\nimport com.apps.akkaber.uis.activity_login.LoginActivity;\r\nimport com.apps.akkaber.uis.activity_my_orders.MyOrderActivity;\r\nimport com.apps.akkaber.uis.activity_notification.NotificationActivity;\r\nimport com.apps.akkaber.uis.activity_share.ShareActivity;\r\nimport com.apps.akkaber.uis.activity_wallet.WalletActivity;\r\nimport com.apps.akkaber.uis.activity_favourite.FavouriteActivity;\r\n\r\nimport io.paperdb.Paper;\r\n\r\npublic class HomeActivity extends BaseActivity implements Listeners.VerificationListener {\r\n    private ActivityHomeBinding binding;\r\n    private NavController navController;\r\n    private HomeActivityMvvm homeActivityMvvm;\r\n    private ActionBarDrawerToggle toggle;\r\n    private Preferences preferences;\r\n    private UserModel userModel;\r\n    private ActivityResultLauncher<Intent> launcher;\r\n    private int req = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_home);\r\n        initView();\r\n\r\n\r\n    }\r\n\r\n    private void initView() {\r\n\r\n        preferences = Preferences.getInstance();\r\n        userModel = preferences.getUserData(this);\r\n        if (userModel != null) {\r\n            binding.setModel(userModel);\r\n        }\r\n        homeActivityMvvm = ViewModelProviders.of(this).get(HomeActivityMvvm.class);\r\n        launcher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -> {\r\n            if (req == 1 && result.getResultCode() == Activity.RESULT_OK) {\r\n                userModel = getUserModel();\r\n                binding.setModel(getUserModel());\r\n            }\r\n        });\r\n\r\n        setSupportActionBar(binding.toolBar);\r\n        navController = Navigation.findNavController(this, R.id.navHostFragment);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, binding.drawerLayout);\r\n        NavigationUI.setupWithNavController(binding.navView, navController);\r\n\r\n        navController.addOnDestinationChangedListener((controller, destination, arguments) -> {\r\n            if (binding.toolBar.getNavigationIcon() != null) {\r\n                binding.toolBar.getNavigationIcon().setColorFilter(ContextCompat.getColor(HomeActivity.this, R.color.black), PorterDuff.Mode.SRC_ATOP);\r\n\r\n            }\r\n        });\r\n        toggle = new ActionBarDrawerToggle(this, binding.drawerLayout, binding.toolBar, R.string.open, R.string.close);\r\n//\r\n//        toggle.setHomeAsUpIndicator(R.drawable.ic_menu);\r\n\r\n\r\n        toggle.syncState();\r\n        binding.imgNotification.setOnClickListener(v -> {\r\n\r\n\r\n        });\r\n        homeActivityMvvm.firebase.observe(this, token -> {\r\n            if (getUserModel() != null) {\r\n                UserModel userModel = getUserModel();\r\n                //  userModel.getData().setFirebase_token(token);\r\n                setUserModel(userModel);\r\n            }\r\n        });\r\n\r\n        binding.imgNotification.setOnClickListener(v -> {\r\n            if (getUserModel() != null) {\r\n                Intent intent = new Intent(this, NotificationActivity.class);\r\n                startActivity(intent);\r\n            } else {\r\n                Intent intent = new Intent(this, LoginActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        if (getUserModel() != null) {\r\n            homeActivityMvvm.updateFirebase(this, getUserModel());\r\n        }\r\n        binding.wallet.setOnClickListener(view -> {\r\n            if (userModel != null) {\r\n                Intent intent = new Intent(HomeActivity.this, WalletActivity.class);\r\n                startActivity(intent);\r\n            } else {\r\n                navigationToLoginActivity();\r\n            }\r\n        });\r\n        binding.contactUs.setOnClickListener(view -> {\r\n            Intent intent = new Intent(HomeActivity.this, ContactUsActivity.class);\r\n            startActivity(intent);\r\n\r\n        });\r\n        binding.favourite.setOnClickListener(view -> {\r\n            if (userModel != null) {\r\n                Intent intent = new Intent(HomeActivity.this, FavouriteActivity.class);\r\n                startActivity(intent);\r\n            } else {\r\n                navigationToLoginActivity();\r\n            }\r\n\r\n        });\r\n        binding.llMyOrders.setOnClickListener(view -> {\r\n            Intent intent = new Intent(HomeActivity.this, MyOrderActivity.class);\r\n            startActivity(intent);\r\n        });\r\n        binding.shareApp.setOnClickListener(view -> {\r\n            Intent intent = new Intent(HomeActivity.this, ShareActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void navigationToLoginActivity() {\r\n        req = 1;\r\n        Intent intent = new Intent(HomeActivity.this, LoginActivity.class);\r\n        launcher.launch(intent);\r\n    }\r\n\r\n\r\n    public void refreshActivity(String lang) {\r\n        Paper.book().write(\"lang\", lang);\r\n        Language.setNewLocale(this, lang);\r\n        new Handler()\r\n                .postDelayed(() -> {\r\n\r\n                    Intent intent = getIntent();\r\n                    finish();\r\n                    startActivity(intent);\r\n                }, 500);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigateUp() {\r\n\r\n        return NavigationUI.navigateUp(navController, binding.drawerLayout);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        int currentFragmentId = navController.getCurrentDestination().getId();\r\n        if (currentFragmentId == R.id.home) {\r\n            finish();\r\n\r\n        } else {\r\n            navController.popBackStack();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onVerificationSuccess() {\r\n\r\n    }\r\n\r\n\r\n    public void updateFirebase() {\r\n        if (getUserModel() != null) {\r\n            homeActivityMvvm.updateFirebase(this, getUserModel());\r\n        }\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/apps/akkaber/uis/activity_home/HomeActivity.java b/app/src/main/java/com/apps/akkaber/uis/activity_home/HomeActivity.java
--- a/app/src/main/java/com/apps/akkaber/uis/activity_home/HomeActivity.java	(revision 11e3c810495b5ab9bb743f328e9ccdc86ba0c60e)
+++ b/app/src/main/java/com/apps/akkaber/uis/activity_home/HomeActivity.java	(date 1640603203963)
@@ -143,6 +143,9 @@
             Intent intent = new Intent(HomeActivity.this, ShareActivity.class);
             startActivity(intent);
         });
+        binding.tvLogin.setOnClickListener(view -> {
+            navigationToLoginActivity();
+        });
     }
 
     private void navigationToLoginActivity() {
Index: app/src/main/java/com/apps/akkaber/uis/activity_wallet/WalletActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.apps.akkaber.uis.activity_wallet;\r\n\r\nimport androidx.databinding.DataBindingUtil;\r\n\r\nimport android.content.Intent;\r\nimport android.graphics.Paint;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\nimport com.apps.akkaber.R;\r\nimport com.apps.akkaber.databinding.ActivityWalletBinding;\r\nimport com.apps.akkaber.uis.activity_base.BaseActivity;\r\nimport com.apps.akkaber.uis.activity_share.ShareActivity;\r\n\r\npublic class WalletActivity extends BaseActivity {\r\n    private ActivityWalletBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_wallet);\r\n        initView();\r\n    }\r\n\r\n    private void initView() {\r\n\r\n        binding.lShare.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(WalletActivity.this, ShareActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        binding.lShare.setPaintFlags(binding.lShare.getPaintFlags() | Paint.UNDERLINE_TEXT_FLAG);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/apps/akkaber/uis/activity_wallet/WalletActivity.java b/app/src/main/java/com/apps/akkaber/uis/activity_wallet/WalletActivity.java
--- a/app/src/main/java/com/apps/akkaber/uis/activity_wallet/WalletActivity.java	(revision 11e3c810495b5ab9bb743f328e9ccdc86ba0c60e)
+++ b/app/src/main/java/com/apps/akkaber/uis/activity_wallet/WalletActivity.java	(date 1640602991211)
@@ -32,5 +32,6 @@
             }
         });
         binding.lShare.setPaintFlags(binding.lShare.getPaintFlags() | Paint.UNDERLINE_TEXT_FLAG);
+        binding.llBack.setOnClickListener(view -> finish());
     }
 }
\ No newline at end of file
